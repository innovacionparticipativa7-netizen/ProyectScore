<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Gestión de Proyectos</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4f6f8;
            padding: 40px;
        }

        .container {
            max-width: 600px;
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: auto;
        }

        h2 {
            margin-bottom: 20px;
            text-align: center;
        }

        label {
            font-weight: bold;
        }

        select, input[type="range"] {
            width: 100%;
            margin: 10px 0 20px 0;
        }

        .meter {
            margin-bottom: 20px;
        }

        .meter span {
            display: block;
            margin-bottom: 5px;
        }

        .value {
            text-align: right;
            font-size: 14px;
            color: #555;
        }

        button {
            width: 100%;
            padding: 12px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
        }

        button:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>Panel de Proyectos</h2>

    <!-- Pestaña desplegable -->
    <label for="proyecto">Seleccionar Proyecto</label>
    <select id="proyecto">
        <option value="Proyecto A">Proyecto A</option>
        <option value="Proyecto B">Proyecto B</option>
        <option value="Proyecto C">Proyecto C</option>
    </select>

    <!-- Medidores -->
    <div class="meter">
        <span>PSR</span>
        <input type="range" id="psr" min="0" max="100">
        <div class="value" id="psrValue">0%</div>
    </div>

    <div class="meter">
        <span>KPI</span>
        <input type="range" id="kpi" min="0" max="100">
        <div class="value" id="kpiValue">0%</div>
    </div>

    <div class="meter">
        <span>PLAN</span>
        <input type="range" id="plan" min="0" max="100">
        <div class="value" id="planValue">0%</div>
    </div>

    <!-- Botón guardar -->
    <button onclick="guardarDatos()">Guardar</button>
</div>

<script>
    const proyectoSelect = document.getElementById("proyecto");

    const psr = document.getElementById("psr");
    const kpi = document.getElementById("kpi");
    const plan = document.getElementById("plan");

    const psrValue = document.getElementById("psrValue");
    const kpiValue = document.getElementById("kpiValue");
    const planValue = document.getElementById("planValue");

    function actualizarValores() {
        psrValue.textContent = psr.value + "%";
        kpiValue.textContent = kpi.value + "%";
        planValue.textContent = plan.value + "%";
    }

    psr.oninput = kpi.oninput = plan.oninput = actualizarValores;

    function guardarDatos() {
        const datos = {
            proyecto: proyectoSelect.value,
            psr: psr.value,
            kpi: kpi.value,
            plan: plan.value
        };

        localStorage.setItem(proyectoSelect.value, JSON.stringify(datos));
        alert("Datos guardados correctamente ✅");
    }

    proyectoSelect.onchange = function () {
        const datosGuardados = localStorage.getItem(this.value);
        if (datosGuardados) {
            const datos = JSON.parse(datosGuardados);
            psr.value = datos.psr;
            kpi.value = datos.kpi;
            plan.value = datos.plan;
        } else {
            psr.value = kpi.value = plan.value = 0;
        }
        actualizarValores();
    };

    actualizarValores();
</script>

</body>
</html>
